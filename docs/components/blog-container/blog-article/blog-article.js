class BlogArticle extends HTMLElement{get open(){return this.hasAttribute("open")?this.attributes.open.value:null}set open(t){if("boolean"==typeof t)return this.setAttribute("open",t),0;console.log('"open" must be a boolean value. got val: '+t)}get title(){return this.hasAttribute("title")?this.attributes.title.value:null}set title(t){t&&this.setAttribute("title",t)}static get observedAttributes(){return["open"]}constructor(t){super();let e=this.attachShadow({mode:"open"});const o=document.querySelector("#blog-article").content.cloneNode(!0);e.appendChild(o),this.componentId=componentIdGenerator.next().value,history.state[this.componentId]={componentName:this.nodeName,open:this.open},this.title=t.title,this.postDate=t.postDate,this.author=t.author,this.content=t.content,this.open=!1,e.querySelector("h3").textContent=this.title,e.querySelector(".postdate").textContent=this.postDate,e.querySelector(".author").textContent=this.author,e.querySelector(".content").textContent=this.content,window.addEventListener("popstate",t=>{history.state[this.componentId]&&("true"==history.state[this.componentId].open&&(history.state[this.componentId].open=!0),"false"==history.state[this.componentId].open&&(history.state[this.componentId].open=!1),this.open=history.state[this.componentId].open)}),this.shadowRoot.querySelector(".expander").addEventListener("click",t=>{this.toggleOpen()})}toggleOpen(){"true"==this.open?(this.open=!1,this.shadowRoot.querySelector(".expander > a").textContent="expand"):(this.open=!0,this.shadowRoot.querySelector(".expander > a").textContent="fold"),history.state[this.componentId].open=this.open}attributeChangedCallback(t,e,o){"open"==t&&("true"==o?this.shadowRoot.querySelector(".content").classList.remove("closed"):this.shadowRoot.querySelector(".content").classList.add("closed"))}}customElements.define("blog-article",BlogArticle);